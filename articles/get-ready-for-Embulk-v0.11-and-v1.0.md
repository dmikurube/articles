---
title: "Get ready for Embulk v0.11 and v1.0! „Éó„É©„Ç∞„Ç§„É≥ÈñãÁô∫ËÄÖ„ÅÆÁöÜÊßò„Å∏"
emoji: "üåê" # „Ç¢„Ç§„Ç≠„É£„ÉÉ„ÉÅ„Å®„Åó„Å¶‰Ωø„Çè„Çå„ÇãÁµµÊñáÂ≠óÔºà1ÊñáÂ≠ó„Å†„ÅëÔºâ
type: "tech" # tech: ÊäÄË°ìË®ò‰∫ã / idea: „Ç¢„Ç§„Éá„Ç¢
topics: [ "embulk" ]
layout: default
---

„Éó„É©„Ç∞„Ç§„É≥Âûã Bulk Data Loader „ÅÆ [Embulk](https://www.embulk.org/) „Çí„É°„É≥„ÉÜ„Éä„É≥„Çπ„Åó„Å¶„ÅÑ„Çã @dmikurube „Åß„Åô„ÄÇ

‰ªäÂæå„ÅÆ Embulk „ÅÆ„É≠„Éº„Éâ„Éû„ÉÉ„Éó„Å´„Å§„ÅÑ„Å¶„ÄÅ‰∏ÄÂπ¥„Åª„Å©Ââç„Å´„ÄÅË®ò‰∫ã„Çí (Ëã±Ë™û„Åß„Åô„Åå) Âá∫„Åó„Åü„Çä„ÄÅ„Éü„Éº„Éà„Ç¢„ÉÉ„Éó„ÅßË©±„Åó„Åü„Çä„Åó„Å¶„ÅÑ„Åæ„Åó„Åü„ÄÇ„Åù„ÅÆÂÜÖÂÆπ„ÅØ„ÄÅÈñãÁô∫Áâà (ÈùûÂÆâÂÆöÁâà) „Å®„Åó„Å¶ Embulk v0.10 „Åß„Åó„Å∞„Çâ„ÅèÂ§ßÊîπÈÄ†„ÇíË°å„ÅÑ„ÄÅ„Åù„Åì„Åã„ÇâÊ¨°ÊúüÂÆâÂÆöÁâà„ÅÆ v0.11 „ÇíÁµå„Å¶ v1.0 „ÇíÂá∫„Åó„Åæ„Åô„Çà„ÄÅ„Å®„ÅÑ„ÅÜ„ÇÇ„ÅÆ„Åß„Åó„Åü„ÄÇ

* [Embulk v0.10 series, which is a milestone to v1.0](https://www.embulk.org/articles/2020/03/13/embulk-v0.10.html)
* [More detailed plan of Embulk v0.10, v0.11, and v1 -- Meetup!](https://www.embulk.org/articles/2020/07/01/meetup-20200709.html)
* [Java plugins to catch up with Embulk v0.10 from v0.9](https://dev.embulk.org/topics/catchup-with-v0.10.html)

„Åù„Çå„Åã„Çâ‰∏ÄÂπ¥Áµå„Å°„ÄÅ„Åù„ÅÆ v0.11.0 „ÅÆ„É™„É™„Éº„Çπ„Åå„ÅÑ„Çà„ÅÑ„ÇàË¶ñÁïå„Å´ÂÖ•„Çä„ÄÅ„Éó„É©„Ç∞„Ç§„É≥„ÅÆ API/SPI (ÂÜç)ÂÆöÁæ©„ÇÇ„Åª„ÅºÂõ∫„Åæ„Çä„Åæ„Åó„Åü„ÄÇÊú¨Ë®ò‰∫ã„ÅØ Embulk „Éó„É©„Ç∞„Ç§„É≥„Çí v0.11 / v1.0 ÂØæÂøú„Åï„Åõ„ÇãÊâãÈ†Ü„ÇíËß£Ë™¨„Åô„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇ ([https://dev.embulk.org/ „Å´„ÅÇ„ÇãËã±Ë™ûÁâà](https://dev.embulk.org/topics/get-ready-for-v0.11-and-v1.0.html) „ÅÆÁøªË®≥„Åß„Åô„Åå„ÄÅÂêå‰∏Ä‰∫∫Áâ©„ÅåÊõ∏„ÅÑ„Å¶„ÅÑ„Çã„ÅÆ„Åß„ÄÅ„Åä„Åù„Çâ„ÅèÂêå„ÅòÂÜÖÂÆπ„Å´„Å™„Å£„Å¶„ÅÑ„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ„ÇÇ„ÅóÈÅï„ÅÑ„Åå„ÅÇ„Çä„Åæ„Åó„Åü„Çâ„ÄÅËã±Ë™ûÁâà„ÅÆÊñπ„Çí‰∏ÄÊ¨°ÊÉÖÂ†±„Å®„Åó„Å¶Ëß£Èáà„Åó„Å§„Å§„ÄÅ„Åú„Å≤Á≠ÜËÄÖ„Åæ„Åß„ÅîÈÄ£Áµ°„Åè„Å†„Åï„ÅÑ)

### „Åæ„Åö„ÄÅ„Å©„ÅÜ„Å™„Å£„Åü„Çâ„Äå„Åì„ÅÆ„Éó„É©„Ç∞„Ç§„É≥„ÅØ Embulk v0.11 / v1.0 ÂØæÂøú„Åß„Åô„Äç„Å®Ë®Ä„Åà„Çã„ÅÆ?

„Éó„É©„Ç∞„Ç§„É≥„Åå‰ª•‰∏ã„ÅÆÊù°‰ª∂„ÇíÊ∫Ä„Åü„Åó„Åü„Çâ„ÄÅ„Åù„ÅÆ„Éó„É©„Ç∞„Ç§„É≥„ÅØ„ÄåEmbulk v0.11 / v1.0 ÂØæÂøú„Äç„Å®Ë®Ä„Å£„Å¶Â§ß‰∏àÂ§´„Åß„Åô„ÄÇ

* Maven „Ç¢„Éº„ÉÜ„Ç£„Éï„Ç°„ÇØ„Éà„ÅÆ `org.embulk:embulk-core` „Å´‰æùÂ≠ò„Åó„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ
* `org.embulk:embulk-api` „Å® `org.embulk:embulk-spi` „Å´ `compileOnly` „Åß‰æùÂ≠ò„Åó„Å¶„ÅÑ„Çã„ÄÇ
* Gradle „Éó„É©„Ç∞„Ç§„É≥„ÅÆ `org.embulk.embulk-plugins` „Åß„Éì„É´„Éâ„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ

„Åì„ÅÜ„Åô„Çã„Å® `build.gradle` „ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ

```
plugins {
    id "java"
    id "maven-publish"
    id "org.embulk.embulk-plugins" version "0.4.2"  // 2021/04/27 ÊôÇÁÇπ„ÅÆÊúÄÊñ∞„Åå 0.4.2
}

group = "your.maven.group"  // "io.github.your_github_username" „Å™„Å©„ÄÅ„ÅîËá™Ë∫´„ÅÆ Maven groupId „ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ ("org.embulk" ‰ª•Â§ñ)
version = "X.Y.Z"

dependencies {
    // 0.11 „Åã„Çâ "embulk-api" „Å® "embulk-spi" „ÅØÈÅï„ÅÜ„Éê„Éº„Ç∏„Éß„É≥‰ΩìÁ≥ª„Å´„Å™„Çä„Åæ„Åô„ÄÇ
    compileOnly "org.embulk:embulk-api:0.10.??"
    compileOnly "org.embulk:embulk-spi:0.10.??"
    // NO! compileOnly "org.embulk:embulk-core:0.10.??"
    // NO! compileOnly "org.embulk:embulk-deps:0.10.??"

    // „Åì„ÅÆ Gradle „Éó„É©„Ç∞„Ç§„É≥„ÅØ„ÄÅÊñ∞„Åó„ÅÑ Gradle „ÅÆ "implementation" „Å´„Åæ„Å†ÂØæÂøú„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ "compile" „Åß„ÅÇ„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
    // „Åù„ÅÆ„Åü„ÇÅ Gradle 7 „Åß„ÅØ„Å™„Åè 6 „Åß„ÅÇ„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ (Gradle 7 „Çí„Çµ„Éù„Éº„Éà„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„Çã‰∫àÂÆö„Åß„Åô)

    // "org.embulk:embulk-util-*" „Å®„ÅÑ„ÅÜ„É©„Ç§„Éñ„É©„É™„Åå„ÅÑ„Åè„Å§„Åã„ÅÇ„Çä„Åæ„Åô„ÄÇ "embulk-core" „Å´Áõ¥Êé•‰æùÂ≠ò„Åô„Çã‰ª£„Çè„Çä„Å´„Åù„Çå„Çâ„Çí‰Ωø„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
    compile "org.embulk:embulk-util-config:0.3.0"  // 2021/04/27 ÊôÇÁÇπ„ÅÆÊúÄÊñ∞„Åå 0.3.0

    // ...

    testCompile "org.embulk:embulk-api:0.10.??"
    testCompile "org.embulk:embulk-spi:0.10.??"
    testCompile "org.embulk:embulk-junit4:0.10.??"
    testCompile "org.embulk:embulk-core:0.10.??"  // "testCompile" „Åß„ÅØ "embulk-core" „Çí‰Ωø„Å£„Å¶„ÇÇÂ§ß‰∏àÂ§´„Åß„Åô
    testCompile "org.embulk:embulk-deps:0.10.??"  // "testCompile" „Åß„ÅØ "embulk-deps" „Çí‰Ωø„Å£„Å¶„ÇÇÂ§ß‰∏àÂ§´„Åß„Åô
}
```

Ë®Ä„ÅÑÊèõ„Åà„Çã„Å®„ÄÅ„ÇÇ„Åó„Éó„É©„Ç∞„Ç§„É≥„Çí„Éì„É´„Éâ„Åô„Çã„ÅÆ„Å´ `org.embulk:embulk-core` „ÅåÂøÖË¶Å„Å™„Çâ„ÄÅ„Åù„ÅÆ„Éó„É©„Ç∞„Ç§„É≥„ÅØ„Åæ„Å† Embulk v0.11 ÂØæÂøú„Å®„ÅØË®Ä„Åà„Åæ„Åõ„Çì„ÄÇ

### Ruby „Éó„É©„Ç∞„Ç§„É≥„ÅØ„Å©„ÅÜ„Åô„Çå„Å∞?

JRuby „ÅØ Embulk v0.11 ‰ª•Èôç„Å´„Éì„É´„Éà„Ç§„É≥„Åß„ÅØÂÖ•„Å£„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ Embulk v1.0 ‰ª•Èôç„ÅÆ JRuby „Å®„ÅÆÈÄ£Êê∫„ÅØ„ÄÅ„ÅÇ„Åæ„Çä„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´„ÅØ„É°„É≥„ÉÜ„Éä„É≥„Çπ„Åï„Çå„Å™„ÅÑ‰∫àÂÆö„Åß„Åô„ÄÇË®Ä„ÅÑÊèõ„Åà„Çã„Å® Ruby („Éó„É©„Ç∞„Ç§„É≥) „ÅØ Embulk „ÅÆÁ¨¨‰∏ÄÁ∑ö„ÅÆÊ©üËÉΩ„Å®„Åó„Å¶„ÅØ„Çµ„Éù„Éº„Éà„Åï„Çå„Å™„Åè„Å™„Çä„Åæ„Åô„ÄÇ

Embulk v1.0.0 ‰ª•Èôç„ÅÆ„Å©„Åì„Åã„ÅßÊÄ•„Å´‰∏ÄÈÉ®„ÅÆ Ruby „Éó„É©„Ç∞„Ç§„É≥„ÅåÂãï„Åã„Å™„Åè„Å™„Çã„ÄÅ„Å®„ÅÑ„ÅÜ„Çà„ÅÜ„Å™„Åì„Å®„Åå„ÅÇ„Çä„ÅÜ„Çã„Å®ÊÉ≥ÂÆö„Åó„Å¶„Åä„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ Ruby „Éó„É©„Ç∞„Ç§„É≥„ÇíÊñ∞„Åó„Åè‰Ωú„Çã„Åì„Å®„ÅØ„ÅäÂãß„ÇÅ„Åó„Åæ„Åõ„Çì„ÄÇ„Åæ„Åü„ÄÅÊó¢Â≠ò„ÅÆ Ruby „Éó„É©„Ç∞„Ç§„É≥„ÇÇ„Åß„Åç„Çå„Å∞ Java „Å´Êõ∏„ÅçÊèõ„Åà„Å¶„ÅÑ„Åè„Åì„Å®„Çí„ÅäÂãß„ÇÅ„Åó„Åæ„Åô„ÄÇ („Å®„ÅØ„ÅÑ„Åà JRuby ÈÄ£Êê∫„ÅÆ„É°„É≥„ÉÜ„Éä„É≥„Çπ„Å´ÂèÇÂä†„Åó„Å¶„Åè„Çå„ÇãÊñπ„ÅØ‰ªä„ÇÇÊ≠ìËøé„Åß„Åô)

### „Åß„ÄÅ„Å©„ÅÜ„Åô„Çå„Å∞ Embulk v0.11 ÂØæÂøú„Åß„Åç„Çã„ÅÆ?

#### Gradle wrapper „Çí Gradle 6 „Å´‰∏ä„Åí„Çã

```
./gradlew wrapper --gradle-version=6.8.3
```

(2021/04/27 ÊôÇÁÇπ„ÅÆÊúÄÊñ∞„Åå 6.8.3)

ÂâçËø∞„ÅÆÈÄö„Çä„ÄÅ„Åæ„Å† Gradle 7 „Å´„ÅØÂØæÂøú„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ

#### Gradle „Éó„É©„Ç∞„Ç§„É≥ `org.embulk.embulk-plugins` „ÇíÈÅ©Áî®„Åô„Çã„ÄÇ

Gradle „Éó„É©„Ç∞„Ç§„É≥„ÅÆ„Ç¨„Ç§„Éâ„Å´Âæì„Å£„Å¶ÈÅ©Áî®„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ: [https://github.com/embulk/gradle-embulk-plugins](https://github.com/embulk/gradle-embulk-plugins)

#### Maven `groupId` „ÇíÊ±∫„ÇÅ„Çã

ÂâçËø∞„ÅÆ„Å®„Åä„Çä JRuby „ÅØ Embulk v0.11 ‰ª•Èôç„Å´„ÅØ„Éì„É´„Éà„Ç§„É≥„Åï„Çå„Åæ„Åõ„Çì„ÄÇ Ruby gems „ÅØ„ÄÅ‰ªäÂæå Embulk „Éó„É©„Ç∞„Ç§„É≥„ÅßÊúÄ„ÇÇ‰Ωø„Çè„Çå„Çã„Éï„Ç©„Éº„Éû„ÉÉ„Éà„Åß„ÅØ„Å™„Åè„Å™„Å£„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ „Åù„Çå„Çâ„ÅØ Maven „É™„Éù„Ç∏„Éà„É™„Å´„É™„É™„Éº„Çπ„Åï„Çå„Çã Maven artifacts „Åå„Åù„ÅÆ‰ª£„Çè„Çä„Å´„Å™„Å£„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ

„Ç™„Éº„Éó„É≥„ÇΩ„Éº„Çπ„ÅÆ Embulk „Éó„É©„Ç∞„Ç§„É≥„ÅØ„ÄÅ„ÅÑ„Åè„Å§„Åã„ÅÇ„Çã‰ªñ„ÅÆ Maven „É™„Éù„Ç∏„Éà„É™„Åß„ÅØ„Å™„Åè [Maven Central](https://search.maven.org/) „Å´„É™„É™„Éº„Çπ„Åô„Çã„ÅÆ„Çí„ÅäÂãß„ÇÅ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ ([Bintray and JCenter „ÅåÁµÇ‰∫Ü„Åô„Çã](https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/)„ÅÆ„ÅØË¶ã„Åæ„Åó„Åü„Çà„Å≠?)

Maven Central „Å´„É™„É™„Éº„Çπ„Åô„Çã„Å´„ÅØ Maven „ÅÆ `groupId` „Çí„ÄÅ„ÅÇ„Å™„Åü„Åå„É™„É™„Éº„ÇπÊ®©Èôê„ÇíÊåÅ„Å§ÂêçÂâç„Å´Ë®≠ÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ‰ª•‰∏ã„ÅÆ Maven „Å® Java „ÅÆ„Ç¨„Ç§„Éâ„É©„Ç§„É≥„Å´Âæì„Å£„Å¶ `groupId` „ÇíÊ±∫„ÇÅ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

* Maven's [Guide to naming conventions on groupId, artifactId, and version](http://maven.apache.org/guides/mini/guide-naming-conventions.html)
* Java's [Unique Package Names](https://docs.oracle.com/javase/specs/jls/se6/html/packages.html#7.7)

‰æã„Åà„Å∞ GitHub „Éâ„É°„Ç§„É≥Âêç„Çí‰Ωø„Å£„Å¶ `io.github.your_github_username` „Å™„Å©„Å©„Åô„ÇãÊ°à„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åù„ÅÆÂ†¥Âêà„ÅØ„ÄÅ„É™„É™„Éº„Çπ„Åô„ÇãÂâç„Å´ [GitHub Pages „ÇíË®≠ÂÆö„ÉªÂÖ¨Èñã](https://docs.github.com/ja/pages/getting-started-with-github-pages/about-github-pages) „Åó„Å¶„Åä„Åè„Åì„Å®„Çí„Åä„Åô„Åô„ÇÅ„Åó„Åæ„Åô„ÄÇ

„ÅÇ„Å™„Åü„ÅÆ„Éó„É©„Ç∞„Ç§„É≥„ÅÆ `groupId` „Å´ `org.embulk` „Çí‰Ωø„Çè„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ„ÄÇ `org.embulk` „ÅØ [https://github.com/embulk](https://github.com/embulk) ‰ª•‰∏ã„ÅßÁÆ°ÁêÜ„Åó„Å¶„ÅÑ„Çã„Éó„É©„Ç∞„Ç§„É≥Áî®„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ

#### Maven „É™„Éù„Ç∏„Éà„É™„Å´ Embulk „Éó„É©„Ç∞„Ç§„É≥„Çí„É™„É™„Éº„Çπ„Åô„ÇãË®≠ÂÆö„Çí„Åô„Çã

‰ªñ„Å∏„ÅÆ„É™„É™„Éº„Çπ„ÅåÂà∂Èôê„Åï„Çå„Å¶„ÅÑ„Çã„Çè„Åë„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„Åå„ÄÅÂâçËø∞„ÅÆ„Å®„Åä„Çä„ÄÅ„Ç™„Éº„Éó„É≥„ÇΩ„Éº„Çπ„ÅÆ Embulk „Éó„É©„Ç∞„Ç§„É≥„ÅØ [Maven Central](https://search.maven.org/) „Å´„É™„É™„Éº„Çπ„Åô„Çã„ÅÆ„Çí„Åä„Åô„Åô„ÇÅ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åó„Åã„Åó„É™„É™„Éº„ÇπÂÖà„Å´„Çà„Çâ„Åö„ÄÅ„Å©„Çì„Å™ Maven „É™„Éù„Ç∏„Éà„É™„Å´„É™„É™„Éº„Çπ„Åô„Çã„ÅÆ„Åß„ÇÇ„ÄÅ„Åù„ÅÆ„É™„Éù„Ç∏„Éà„É™Áî®„Å´ `build.gradle` „ÇíË®≠ÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ

„Åù„ÅÆË®≠ÂÆö„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ Maven Cetnral „Åß„ÅÇ„Çå„Å∞ [Maven „ÅÆ„Ç¨„Ç§„Éâ (Getting started)](https://central.sonatype.org/publish/publish-guide/) „ÇÑ [ÂøÖË¶Å‰∫ãÈ†Ö](https://central.sonatype.org/pages/requirements.html) „Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

```
// Maven Central „Åß„ÅØ "-javadoc" and "-sources" JAR „ÇÇ„É™„É™„Éº„Çπ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
// Gradle 6 ‰ª•Èôç„Å™„Çâ„ÄÅ„Åì„ÅÆË®≠ÂÆö„Åß„Åù„Çå„Çâ„ÇíËá™ÂãïÁöÑ„Å´ÁîüÊàê„Åß„Åç„Åæ„Åô„ÄÇ
java {
    withJavadocJar()
    withSourcesJar()
}

// ‰ª•‰∏ã„ÅÆË®≠ÂÆö„Åß "./gradlew publishMavenPublicationToMavenCentralRepository" „ÇíÂÆüË°å„Åô„Çã„Å® Maven Central „Å´„É™„É™„Éº„Çπ„Åß„Åç„Åæ„Åô„ÄÇ
// „Åü„Å†„Åó Sonatype OSSRH JIRA „ÅÆË®≠ÂÆö„Çí„Åó„ÄÅ„Åù„ÅÆ JIRA „Å´„ÉÅ„Ç±„ÉÉ„Éà„Çí‰Ωú„Å£„Å¶Êñ∞„Åó„ÅÑ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆÁôªÈå≤„Çí„Åó„Å¶ PGP „ÇÇÁî®ÊÑè„Åó„Å¶„Åä„ÅèÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
publishing {
    publications {
        maven(MavenPublication) {
            groupId = "${project.group}"
            artifactId = "${project.name}"

            from components.java

            // Maven Central „Åß„ÅØ "-javadoc" and "-sources" JAR „ÇÇ„É™„É™„Éº„Çπ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
            // "javadocJar" „Å® "sourcesJar" „ÅØ„ÄÅ‰∏ä„ÅÆ "java.withJavadocJar()" and "java.withSourcesJar()" „Åå„ÅÇ„Çå„Å∞Ëá™Âãï„ÅßËøΩÂä†„Åï„Çå„Åæ„Åô„ÄÇ
            // See: https://docs.gradle.org/current/javadoc/org/gradle/api/plugins/JavaPluginExtension.html

            pom {  // https://central.sonatype.org/pages/requirements.html
                packaging "jar"

                name = "${project.name}"
                description = "${project.description}"
                // url = "https://github.com/your-github-username/your-plugin-name"

                licenses {
                    // Maven Central „Åß„ÅØ„É©„Ç§„Çª„É≥„Çπ„ÇíÊòéÁ§∫ÁöÑ„Å´ÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
                    // „Åì„Çå„ÅØ MIT License „ÅÆ‰æã„Åß„Åô„ÄÇ
                    license {
                        // http://central.sonatype.org/pages/requirements.html#license-information
                        name = "MIT License"
                        url = "http://www.opensource.org/licenses/mit-license.php"
                    }
                }

                developers {
                    developer {
                        name = "Your Name"
                        email = "you@example.com"
                    }
                }

                scm {
                    connection = "scm:git:git://github.com/your_github_username/your_repository.git"
                    developerConnection = "scm:git:git@github.com:your_github_username/your_repository.git"
                    url = "https://github.com/your_github_username/your_repository"
                }
            }
        }
    }

    repositories {
        maven {
            name = "mavenCentral"
            if (project.version.endsWith("-SNAPSHOT")) {
                url "https://oss.sonatype.org/content/repositories/snapshots"
            } else {
                url "https://oss.sonatype.org/service/local/staging/deploy/maven2"
            }

            // „Åì„ÅÆË®≠ÂÆö„ÅØ "~/.gradle/gradle.properties" „Å´ "ossrhUsername" „Å® "ossrhPassword" „Åå„ÅÇ„Çã„Åì„Å®„ÇíÂâçÊèê„Å´„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
            // Sonatype OSSRH „ÅÆ„É¶„Éº„Ç∂„ÉºÂêç„Å®„Éë„Çπ„ÉØ„Éº„Éâ„Çí "~/.gradle/gradle.properties" „Å´ÂÖ•„Çå„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
            // https://central.sonatype.org/publish/publish-gradle/#credentials
            credentials {
                username = project.hasProperty("ossrhUsername") ? ossrhUsername : ""
                password = project.hasProperty("ossrhPassword") ? ossrhPassword : ""
            }
        }
    }
}

// Maven Central „Åß„ÅØ PGP ÁΩ≤Âêç„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ
// https://central.sonatype.org/publish/requirements/gpg/
// https://central.sonatype.org/publish/publish-gradle/#credentials
signing {
    sign publishing.publications.maven
}
```

#### ‰æùÂ≠òÈñ¢‰øÇ„ÅÆÊï¥ÁêÜ

ÊúÄÂàù„Å´Êåô„Åí„Åü„Å®„Åä„Çä Embulk v0.11 ‰ª•Èôç„Å´ÂØæÂøú„Åó„Åü„Éó„É©„Ç∞„Ç§„É≥„ÅØ `org.embulk:embulk-core` „Å´‰æùÂ≠ò„Åß„Åç„Åæ„Åõ„Çì„ÄÇ„Å§„Åæ„Çä„ÄÅÊúÄÊñ∞„ÅÆ„Éó„É©„Ç∞„Ç§„É≥„ÅØ `org.embulk:embulk-core` „Å†„Åë„Å´„ÅÇ„Å£„Å¶ `org.embulk:embulk-api` „Åã `org.embulk:embulk-spi` „Å´ÂÖ•„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÇØ„É©„Çπ„Çí‰Ωø„Åà„Åæ„Åõ„Çì„ÄÇ

„Åì„Çå„Åå„Éó„É©„Ç∞„Ç§„É≥„ÅÆ‰∫íÊèõÊÄß„Å´„Å®„Å¶„ÇÇÂ§ß„Åç„Å™ÂΩ±Èüø„Åå„ÅÇ„Çã„Åì„Å®„ÅØÁêÜËß£„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åß„Åô„Åå„ÄÅÂ∞ÜÊù•„ÅÆ Embulk „Éó„É©„Ç∞„Ç§„É≥„ÅåË§áÈõë„Å™‰æùÂ≠òÈñ¢‰øÇ„ÅÆÂïèÈ°å„Åã„ÇâËß£Êîæ„Åï„Çå„Çã„Çà„ÅÜ„Å´„ÄÅ„Åì„Çå„ÇíÂº∑Ë°å„Åô„Çã„Åì„Å®„Å´„Åó„Åæ„Åó„Åü„ÄÇ

„Åü„Å®„Åà„Å∞ `org.embulk:embulk-core` „ÅØ Jackson 2.6.7 „Å´‰æùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Éó„É©„Ç∞„Ç§„É≥„ÅØ `org.embulk:embulk-core` „ÅÆÂÖÉ„Åß„É≠„Éº„Éâ„Åï„Çå„Çã„ÅÆ„Åß„ÄÅ„Éó„É©„Ç∞„Ç§„É≥„ÅØ Jackson 2.6.7 „Åå„Å®„Å¶„ÇÇÂè§„ÅÑ„Åì„Å®„Çí„Çè„Åã„Å£„Å¶„ÅÑ„Å™„Åå„Çâ 2.6.7 „Çí‰Ωø„Çè„Å™„Åë„Çå„Å∞„Å™„Çä„Åæ„Åõ„Çì„ÄÇ‰∏ÄÊñπ `org.embulk:embulk-core` „ÅÆ Jackson „ÇíÊñ∞„Åó„Åè„Åô„Çã„ÅÆ„ÅØÊó¢Â≠ò„ÅÆ Jackson 2.6.7 „ÇíÊúüÂæÖ„Åó„Å¶„ÅÑ„Çã„Éó„É©„Ç∞„Ç§„É≥„Å´ÂΩ±Èüø„Åô„Çã„ÅÆ„Åß„ÄÅÁ∞°Âçò„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÊùøÊåü„Åø„Å´„Å™„Å£„Å¶„ÅÑ„Åü„ÅÆ„Åß„Åô„ÄÇ

„Åæ„Åü `org.embulk:embulk-core` „Å´„ÅØ„ÄÅ„Éó„É©„Ç∞„Ç§„É≥„ÅÆ„Åü„ÇÅ„ÅÆ„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£„ÇØ„É©„Çπ„ÇÇ„Åü„Åè„Åï„Çì„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇEmbulk „ÅÆÈñãÁô∫„ÉÅ„Éº„É†„ÅåÊñ∞„Åó„ÅÑÊ©üËÉΩ„ÅÆ„Åü„ÇÅ„Å´ Â§âÊõ¥„ÇíÂä†„Åà„Åü„Å®„Åç„Å´„ÄÅ‰∫àÊÉ≥Â§ñ„Å´Â§ö„Åè„ÅÆ„Éó„É©„Ç∞„Ç§„É≥„ÅåÂΩ±Èüø„ÇíÂèó„Åë„Çã„Çà„ÅÜ„Å™„Åì„Å®„Åå‰ΩïÂ∫¶„ÇÇ„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ„Åù„ÅÆ„Åü„ÇÅ Embulk Êú¨‰Ωì„Å´ÊîπÂñÑ„ÇíÂä†„Åà„Çã„Åì„Å®„Çí„Åü„ÇÅ„Çâ„ÅÜ„Çà„ÅÜ„Å´„Å™„Å£„Å¶„ÅÑ„Åæ„Åó„Åü„ÄÇ

„Å≤„Å®„Åü„Å≥„Åª„Å®„Çì„Å©„ÅÆ„Éó„É©„Ç∞„Ç§„É≥„Åå v0.11 ÂØæÂøú„Å´„Å™„Å£„Åü„Çâ„ÄÅ„Å©„ÅÆ Jackson „Éê„Éº„Ç∏„Éß„É≥„Çí‰Ωø„ÅÜ„Åã„ÅØÂÆåÂÖ®„Å´„Éó„É©„Ç∞„Ç§„É≥„ÅÆËá™Áî±„Å´„Å™„Çä„Åæ„Åô„ÄÇ„Åæ„Åü Embulk Êú¨‰Ωì„ÅÆÂ§âÊõ¥„Åã„Çâ„ÇÇÂΩ±Èüø„ÇíÂèó„Åë„Å´„Åè„Åè„Å™„Çä„Åæ„Åô„ÄÇ

Embulk v0.11 ‰ª•Èôç `org.embulk:embulk-api` „Å® `org.embulk:embulk-spi` „ÅØ Embulk Êú¨‰Ωì„Å®„Éó„É©„Ç∞„Ç§„É≥„ÅÆÈñì„ÅÆ„ÄåÂ•ëÁ¥Ñ (contract)„Äç„Å´„Å™„Çä„Åæ„Åô„ÄÇ„Åì„Çå„Çâ„ÅØ„ÅÇ„Åæ„ÇäÈ†ªÁπÅ„Å´„ÅØÊõ¥Êñ∞„Åï„Çå„Åö„ÄÅ„Éó„É©„Ç∞„Ç§„É≥„ÅåÊú¨‰ΩìÂÅ¥„ÅÆÂ§âÊõ¥„Å´ÂΩ±Èüø„Åï„Çå„Å™„ÅÑ„Çà„ÅÜ„ÄÅ‰∫íÊèõÊÄß„Çí‰øù„Å§„Çà„ÅÜ„Å´Ê≥®ÊÑèÊ∑±„Åè„É°„É≥„ÉÜ„Éä„É≥„Çπ„Åï„Çå„Åæ„Åô„ÄÇ‰∏ÄÊñπ `org.embulk:embulk-core` „ÅÆÊñπ„ÅØ„ÄÅÊñ∞„Åó„ÅÑÊ©üËÉΩ„ÅÆ„Åü„ÇÅ„Å´„ÇÇ„Å£„Å®È†ªÁπÅ„Å´Êõ¥Êñ∞„Åï„Çå„Åæ„Åô„ÄÇ

`org.embulk:embulk-api` „Å® `org.embulk:embulk-spi` „ÅØ `org.embulk:embulk-core` „Å®„ÅØÁï∞„Å™„Çã„Éê„Éº„Ç∏„Éß„É≥‰ΩìÁ≥ª„Å´„Å™„Çä„Åæ„Åô„ÄÇ `embulk-api` „Å® `embulk-spi` „ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅØ `org.embulk:embulk-core` „Å®ÈÅï„Å£„Å¶„ÄÅÂçò„Å´ `0.11`, `1.0`, `1.1`, `1.2` „ÅÆ„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ„Åì„ÅÆ‰∏ÄÊ°ÅÁõÆ„Å®‰∫åÊ°ÅÁõÆ„ÇÇÂêåÊúü„Åó„Åæ„Åõ„Çì„ÄÇ„Åü„Å®„Åà„Å∞ `org.embulk:embulk-core:1.3.2` „Åå `org.embulk:embulk-api:1.1` and `org.embulk:embulk-spi:1.1` „ÇíÊÉ≥ÂÆö„Åô„Çã„ÄÅ„Å®„ÅÑ„ÅÜ„Çà„ÅÜ„Å™„Åì„Å®„ÇÇ„ÅÇ„Çä„Åà„Åæ„Åô„ÄÇ

`org.embulk:embulk-api:0.11` „Å® `org.embulk:embulk-spi:0.11` „ÅØ Embulk v0.11.0 „Å®ÂêåÊôÇ„Å´„É™„É™„Éº„Çπ„Åï„Çå„Åæ„Åô„ÄÇÂêåÊßò„Å´ `org.embulk:embulk-api:1.0` „Å® `org.embulk:embulk-spi:1.0` „ÅØ Embulk v1.0.0 „Å®ÂêåÊôÇ„Å´„É™„É™„Éº„Çπ„Åï„Çå„Åæ„Åô„ÄÇ„Åó„Åã„Åó„ÄÅ‰ª•Èôç„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅÆ„É™„É™„Éº„Çπ„ÅØ„ÅÇ„Åæ„ÇäÈ†ªÁπÅ„Åß„ÅØ„Å™„Åè API „Å® SPI „Å´Â§âÊõ¥„Åå„ÅÇ„Å£„Åü„Å®„Åç„ÅÆ„Åø„É™„É™„Éº„Çπ„Åï„Çå„Åæ„Åô„ÄÇ

##### Embulk config „ÅÆÂá¶ÁêÜ

„Åì„Çå„Åæ„Åß Embulk „Éó„É©„Ç∞„Ç§„É≥„ÅØ config „ÇíÂá¶ÁêÜ„Åô„Çã„ÅÆ„Å´ `org.embulk.config.ConfigSource#loadConfig` „Å® `org.embulk.config.TaskSource#loadTask` „Çí‰Ωø„Å£„Å¶„Åç„Åæ„Åó„Åü. „Åó„Åã„Åó„ÄÅ„Åì„Çå„Çâ„ÅØ„ÇÇ„ÅÜÈùûÊé®Â•®„Åß„Åô„ÄÇÂ§ñÈÉ®„É©„Ç§„Éñ„É©„É™„Å´„Å™„Å£„Åü [`org.embulk:embulk-util-config`](https://dev.embulk.org/embulk-util-config/) „Çí‰ª£„Çè„Çä„Å´‰Ωø„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

```
compile "org.embulk:embulk-util-config:0.3.0"
```

‰Ωø„ÅÑÊñπ„ÅØ„Åù„Åì„Åæ„ÅßË§áÈõë„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Åæ„Åö `@Config`, `@ConfigDefault`, `Task` „Çí `embulk-util-config` „ÅÆ„ÇÇ„ÅÆ„Å´ÁΩÆ„ÅçÊèõ„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

```
- import org.embulk.config.Config;
- import org.embulk.config.ConfigDefault;
- import org.embulk.config.Task;
+ import org.embulk.util.config.Config;
+ import org.embulk.util.config.ConfigDefault;
+ import org.embulk.util.config.Task;
```

„Åù„Åó„Å¶„Éó„É©„Ç∞„Ç§„É≥„ÅÆ `Task` ÂÆöÁæ©„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åì„Çå„Åå `Task` (`org.embulk.config.Task` => `org.embulk.util.config.Task`) „ÅÆ„Åø„ÇíÁ∂ôÊâø„Åó„Å¶„ÅÑ„Çã„Å™„Çâ„ÄÅÁâπ„Å´ÂïèÈ°å„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„ÇÇ„Åó„Åì„Çå„Åå‰ªñ„ÅÆÂè§„ÅÑ interface „ÇíÁ∂ôÊâø„Åó„Å¶„ÅÑ„Åü„Çâ (ÂÖ∏ÂûãÁöÑ„Å™„ÅÆ„ÅØ„Åü„Å®„Åà„Å∞ `TimestampParser.Task`) ‰ª£„Çè„Çä„Å´„Å™„Çã `org.embulk.util.config.*` „Çí‰Ωø„Å£„ÅüÊñ∞„Åó„ÅÑ„ÇÇ„ÅÆ„ÇíÊé¢„Åô„Åã„ÄÅ„É¶„Éº„Ç∂„Éº„Åã„ÇâË¶ã„Å¶‰∫íÊèõ„Å´„Å™„Çã„Çà„ÅÜ„Å´‰∏≠„ÅÆ„É°„ÇΩ„ÉÉ„ÉâÂÆöÁæ©„Çí„Ç≥„Éî„Éº„Åó„Å¶„Åç„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

```
public interface PluginTask extends Task, org.embulk.spi.time.TimestampParser.Task {  // => TimestampParser.Task „ÇíÊ∂à„Åô
    // ...

    // org.embulk.spi.time.TimestampParser.Task „Åã„Çâ„Ç≥„Éî„Éº
    @Config("default_timezone")
    @ConfigDefault("\"UTC\"")
    String getDefaultTimeZoneId();

    // org.embulk.spi.time.TimestampParser.Task „Åã„Çâ„Ç≥„Éî„Éº
    @Config("default_timestamp_format")
    @ConfigDefault("\"%Y-%m-%d %H:%M:%S.%N %z\"")
    String getDefaultTimestampFormat();

    // org.embulk.spi.time.TimestampParser.Task „Åã„Çâ„Ç≥„Éî„Éº
    @Config("default_date")
    @ConfigDefault("\"1970-01-01\"")
    String getDefaultDate();
}
```

Ê¨°„Å´ `org.embulk.util.config.ConfigMapperFactory` „ÅÆ„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÇíÁî®ÊÑè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

```
import org.embulk.util.config.ConfigMapperFactory;

private static final ConfigMapperFactory CONFIG_MAPPER_FACTORY = ConfigMapperFactory.builder().addDefaultModules().build();
```

Embulk config „Åã„ÇâÊ®ôÊ∫ñÁöÑ„Åß„ÅØ„Å™„ÅÑ„ÇØ„É©„Çπ„Å∏„ÅÆ„Éû„ÉÉ„Éî„É≥„Ç∞„ÅåÂøÖË¶Å„Å™„Å®„Åç„ÅØ„ÄÅ‰ªªÊÑè„ÅÆ Jackson [Module](https://fasterxml.github.io/jackson-databind/javadoc/2.6/com/fasterxml/jackson/databind/Module.html) „ÇíËøΩÂä†„Åß„Åç„Åæ„Åô„ÄÇ

```
private static final ConfigMapperFactory CONFIG_MAPPER_FACTORY =
        ConfigMapperFactory.builder().addDefaultModules().addModule(new SomeJacksonModule()).build();
```

Apache BVal „Çí‰Ωø„Å£„Å¶ config „ÅÆÊ§úË®º„ÇíÊúâÂäπ„Å´„Åô„Çã„Åì„Å®„ÇÇ„Åß„Åç„Åæ„Åô„ÄÇ

```
import javax.validation.Validation;
import javax.validation.Validator;
import org.apache.bval.jsr303.ApacheValidationProvider;

private static final Validator VALIDATOR =
        Validation.byProvider(ApacheValidationProvider.class).configure().buildValidatorFactory().getValidator();

private static final ConfigMapperFactory CONFIG_MAPPER_FACTORY =
        ConfigMapperFactory.builder().addDefaultModules().withValidator(VALIDATOR).build();
```

ÊúÄÂæå„Å´ `loadConfig` „Å® `loadTask` „Çí `org.embulk.util.config.ConfigMapper#map` „Å® `org.embulk.util.config.TaskMapper#map` „Å´„Åù„Çå„Åû„ÇåÁΩÆ„ÅçÊèõ„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

```
+ import org.embulk.util.config.ConfigMapper;
+ import org.embulk.util.config.TaskMapper;

- PluginTask task = config.loadConfig(PluginTask.class);
+ final ConfigMapper configMapper = CONFIG_MAPPER_FACTORY.createConfigMapper();
+ final PluginTask task = configMapper.map(config, PluginTask.class);

- PluginTask task = taskSource.loadTask(PluginTask.class);
+ final TaskMapper taskMapper = CONFIG_MAPPER_FACTORY.createTaskMapper();
+ final PluginTask task = taskMapper.map(taskSource, PluginTask.class);
```

`embulk-util-config` Ëá™‰Ωì„Åå Jackson „Å´‰æùÂ≠ò„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åß„ÄÅ„Åì„Çå„Çí‰Ωø„ÅÜ„Å®„Éó„É©„Ç∞„Ç§„É≥„ÅØ Jackson „Å∏„ÅÆ‰æùÂ≠ò„ÇíÁõ¥Êé•ÊåÅ„Å§„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ

„Éó„É©„Ç∞„Ç§„É≥„Åå Embulk v0.9 „Åß„ÇÇ„Åó„Å∞„Çâ„Åè„ÅØÂãï„Åè„Çà„ÅÜ„Å´„Åô„Çã„Åü„ÇÅ„Å´„ÅØ„ÄÅÊñ∞„Åó„ÅÑ Embulk v0.11.0 „Åå„É™„É™„Éº„Çπ„Åï„Çå„Å¶„ÇÇ„Åó„Å∞„Çâ„Åè Jackson 2.6.7 „ÅÆ„Åæ„Åæ„Å´„Åó„Å¶„Åä„Åè„Åì„Å®„Çí„ÄÅ„Åú„Å≤Ê§úË®é„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ‰ªñ„ÅÆÂ§ö„Åè„ÅÆ„Éó„É©„Ç∞„Ç§„É≥„Åå v0.11 ÂØæÂøú„Å´„Å™„Çä„ÄÅÂ§ö„Åè„ÅÆ„É¶„Éº„Ç∂„Éº„Åå v0.11 ‰ª•Èôç„Çí‰Ωø„ÅÜ„Çà„ÅÜ„Å´„Å™„Å£„Åü„Çâ„ÄÅ„Å©„ÅÆ Jackson „Éê„Éº„Ç∏„Éß„É≥„Çí‰Ωø„Å£„Å¶„ÇÇÂãï„Åè„ÅØ„Åö„Åß„Åô!

##### Êó•‰ªò„ÉªÊôÇÂàª„Å®„Çø„Ç§„É†„Çæ„Éº„É≥„ÅÆÊâ±„ÅÑ

[Joda-Time](https://www.joda.org/joda-time/) is removed from Embulk. `org.embulk.spi.time.TimestampFormatter` and `org.embulk.spi.time.TimestampParser` are deprecated. Please use Java 8's `java.time` standard classes, and an external library [`org.embulk:embulk-util-timestamp`](https://dev.embulk.org/embulk-util-timestamp/) instead.

```
compile "org.embulk:embulk-util-timestamp:0.2.1"
```

Embulk's [`org.embulk.spi.time.Timestamp`](https://dev.embulk.org/embulk-api/0.10.31/javadoc/org/embulk/spi/time/Timestamp.html) is deprecated. Use [`java.time.Instant`](https://docs.oracle.com/javase/jp/8/docs/api/java/time/Instant.html) instead.

Joda-Time's [`DateTime`](https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html) would be replaced with [`java.time.OffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html) or [`java.time.ZonedDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html). If `OffsetDateTime` is sufficient for you, we'd suggest `OffsetDateTime`. The complexity of time zones based on geographical regions would easily get everything messed up. (Imagine that your plugin receives `2017-03-12 02:30:00` against a default time zone setting `America/Los_Angeles`.)

Joda-Time's [`DateTimeZone`](https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html) would be replaced with [`java.time.ZoneOffset`](https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html) or [`java.time.ZoneId`](https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html). For reasons similar to the above, we'd suggest to restrict it to `ZoneOffset` if it is sufficient for you.

Embulk's `org.embulk.spi.time.TimestampFormatter` and `org.embulk.spi.time.TimestampParser` are deprecated. Use `embulk-util-timestamp`'s [`org.embulk.util.timestamp.TimestampFormatter`](https://dev.embulk.org/embulk-util-timestamp/0.2.1/javadoc/org/embulk/util/timestamp/TimestampFormatter.html) instead. The typical "as-is" migration would be like below:

```
// Define your own PluginTask with embulk-util-config's org.embulk.util.config.Task.
private interface PluginTask extends org.embulk.util.config.Task {
    // ...

    // From org.embulk.spi.time.TimestampParser.Task.
    @Config("default_timezone")
    @ConfigDefault("\"UTC\"")
    String getDefaultTimeZoneId();

    // From org.embulk.spi.time.TimestampParser.Task.
    @Config("default_timestamp_format")
    @ConfigDefault("\"%Y-%m-%d %H:%M:%S.%N %z\"")
    String getDefaultTimestampFormat();

    // From org.embulk.spi.time.TimestampParser.Task.
    @Config("default_date")
    @ConfigDefault("\"1970-01-01\"")
    String getDefaultDate();
}

// Define your own TimestampColumnOption compatible with org.embulk.spi.time.Timestamp{Formatter|Parser}.TimestampColumnOption.
private interface TimestampColumnOption extends org.embulk.util.config.Task {
    @Config("timezone")
    @ConfigDefault("null")
    java.util.Optional<String> getTimeZoneId();

    @Config("format")
    @ConfigDefault("null")
    java.util.Optional<String> getFormat();

    @Config("date")
    @ConfigDefault("null")
    java.util.Optional<String> getDate();
}

// Get the entire configuration.
final PluginTask task = configMapper.map(configSource, PluginTask.class);

// Get per-column option with embulk-util-config.
final TimestampColumnOption columnOption = configMapper.map(columnConfig.getOption(), TimestampColumnOption.class);

// Build TimestampFormatter.
final TimestampFormatter formatter = TimestampFormatter
        .builder(columnOption.getFormat().orElse(task.getDefaultTimestampFormat(), true)
        .setDefaultZoneFromString(columnOption.getTimeZoneId().orElse(task.getDefaultTimeZoneId()))
        .setDefaultDateFromString(columnOption.getDate().orElse(task.getDefaultDate()))
        .build();

Instant instant = formatter.parse("2019-02-28 12:34:56 +09:00");
System.out.println(instant);  // => "2019-02-28T03:34:56Z"

String formatted = formatter.format(Instant.ofEpochSecond(1009110896));
System.out.println(formatted);  // => "2017-12-23 12:34:56 UTC"
```

##### Using Jackson and JSON

`org.embulk:embulk-core` no longer has dependencies on Jackson. If your plugin needs Jackson for itself, it needs to have dependencies on Jackson by itself.

If your plugin has started to use `org.embulk:embulk-util-config` described above, your plugin should already have dependencies on Jackson (2.6.7). You can add some more Jackson sub-librarires by yourself.

Embulk's `org.embulk.spi.json.JsonParser` is deprecated. Use [`org.embulk:embulk-util-json`](https://dev.embulk.org/embulk-util-json/) instead. The usage is almost the same.

As described above, please consider keeping your plugin with Jackson 2.6.7 for a while from Embulk v0.11.0 so that the plugin can still work with the old stable Embulk v0.9.

##### Using Google Guava and/or Apache Commons Lang 3

`org.embulk:embulk-core` no longer has dependencies on Google Guava nor Apache Commons Lang 3. If your plugin uses them, it needs to be rewritten to Java 8's standard classes, or to have dependencies on them by itself.

Java 8 is powerful enough. Unless your plugin has a heavy use of Google Guava or Apache Commons Lang 3, we'd basically recommend you to rewrite them with Java 8's standard classes. They (especially Guava) often introduce incompatibility that could frustrates you.

At least, Guava's [`com.google.common.base.Optional`](https://guava.dev/releases/18.0/api/docs/com/google/common/base/Optional.html) no longer works with `embulk-util-config`. It needs to be replaced with [`java.util.Optional`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html).

For typical use-cases of Guava:

* Guava's immutable collections could be replaced with [`java.util.Collections`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html) `unmodifiable*`.
* Guava's [`Throwables`](https://guava.dev/releases/18.0/api/docs/com/google/common/base/Throwables.html) has been deprecated. Read [Guava's document](https://github.com/google/guava/wiki/Why-we-deprecated-Throwables.propagate).
* Guava's [`Preconditions`](https://guava.dev/releases/18.0/api/docs/com/google/common/base/Preconditions.html) can be replaced simply.

##### Using Guice

Stop using Guice in your plugin if possible.

If it does not seem possible, for example if another dependency has a dependency on Guice, we'd suggest to have a dependency on Guice explicitly. But, note that it may make your plugin not to work with older Embulk v0.9.

##### Using JRuby (`org.jruby` classes)

Stop using JRuby in your plugin.

A typical use-case of JRuby has been to use Ruby's date-time formatter. It can be replaced with [`embulk-util-timestamp`](https://dev.embulk.org/embulk-util-timestamp/) or [`embulk-util-rubytime`](https://dev.embulk.org/embulk-util-rubytime/).

##### Using FindBugs

`org.embulk:embulk-core` no longer has a dependency on FindBugs `com.google.code.findbugs:annotations` (for `@SuppressFBWarnings`).

[FindBugs](http://findbugs.sourceforge.net/) is known to be no longer maintained. We'd at least suggest to stop using FindBugs.

[SpotBugs](https://spotbugs.github.io/) can be a good alternative to FindBugs. But, the Embulk core will not provide any special support for plugins to use SpotBugs. Please give it a try by yourself.

##### Prepare for Java 11+

The Java eco-system needs to be prepared for later Java versions. A big jump there is from Java 8 to Java 11+. Java EE classes are removed from the Java runtime environments from Java 11. If your plugin uses those classes, it will stop working with Java 11+. JAXB `javax.xml.*` is a typical use-case. See [JEP 320](https://openjdk.java.net/jeps/320) for the details.

When Embulk (v0.11+) detects a plugin using a class that is removed by JEP 320, it just logs a warning message like an example below even on Java 8.

```
Class javax.xml.bind.JAXB is loaded by the parent ClassLoader, which is removed by JEP 320. The plugin needs to include it on the plugin side. See https://github.com/embulk/embulk/issues/1270 for more details.
```

Embulk, as a framework, will not provide any more special help with them. If your plugin uses those Java EE classes, please add alternative dependencies in the plugin by yourself.

Some typical examples are shown below.

```
// Adding dependencies on JAXB explicitly.

// JAXB 2.2.11 is chosen here because:
// 1. JDK 8's bundled JAXB is 2.2.8. Better with a closer version while we are on Java 8.
//    https://javaee.github.io/jaxb-v2/doc/user-guide/ch02.html#a-2-2-8
// 2. Neither com.sun.xml.bind:jaxb-core:2.2.8 nor com.sun.xml.bind:jaxb-impl:2.2.8 does not exist on Maven Central.
// 3. 2.2.11 looks to be used by the most Java libraries among JAXB 2.2.
//    https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api
//    https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-core
//    https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl
// 4. JAXB 2.2.8 and 2.2.11 look to have the same set of classes.
//    Although their internal implementations are a bit different, class loaders would not be confused.
compile "javax.xml.bind:jaxb-api:2.2.11"
compile "com.sun.xml.bind:jaxb-core:2.2.11"
compile "com.sun.xml.bind:jaxb-impl:2.2.11"
```

```
// Adding a dependency on the Activation Framework explicitly.

// The Activation Framework is often required along with JAXB.
// 1.1.1 is chosen because it was the latest version when JAXB 2.2.11 was released.
compile "javax.activation:activation:1.1.1"
```

```
// Adding a dependency on the Annotation API explicitly.

// 1.2 is chosen because only 1.2 should have been available in the age of Java 8.
// https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api
compile "javax.annotation:javax.annotation-api:1.2"
```

##### Log

`Exec.getLogger` is deprecated. Use [SLF4J](http://www.slf4j.org/)'s [`org.slf4j.LoggerFactory.getLogger`](https://www.javadoc.io/doc/org.slf4j/slf4j-api/1.7.30/org/slf4j/LoggerFactory.html) directly.

##### Other utility classes in `org.embulk:embulk-core`

* Processing file-like byte sequence (ex. `FileInputInputStream` and `FileOutputOutputStream` in `org.embulk.spi.util`)
    * Exported as [`embulk-util-file`](https://dev.embulk.org/embulk-util-file/)
* Processing text (ex. `LineDecoder` and `LineEncoder` in `org.embulk.spi.util`)
    * Exported as [`embulk-util-text`](https://dev.embulk.org/embulk-util-text/)
* Dynamic column setter (ex. `DynamicColumnSetter` in `org.embulk.spi.util`)
    * Exported as [`embulk-util-dynamic`](https://dev.embulk.org/embulk-util-dynamic/)
* Retries (ex. `RetryExecutor` in `org.embulk.spi.util`)
    * Exported as [`embulk-util-retryhelper`](https://dev.embulk.org/embulk-util-retryhelper/)

#### Summary of replacement

##### Processing Embulk configurations

| Old | New |
|---|---|
| `@Config` | `@org.embulk.util.config.Config` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `@ConfigDefault` | `@org.embulk.util.config.ConfigDefault` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `@ConfigInject` | `Exec.get???()` (for example, `Exec.getBufferAllocator`) |
| `ConfigSource#loadConfig` | `ConfigMapper#map` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `TaskSource#loadTask` | `TaskMapper#map` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `Task` | `org.embulk.util.config.Task` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `ColumnConfig` | `org.embulk.util.config.units.ColumnConfig` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `SchemaConfig` | `org.embulk.util.config.units.SchemaConfig` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `ModelManager` | Stop using it, and build your own Jackson `ObjectMapper` |
| `LocalFile` in `PluginTask` | Use `org.embulk.util.config.modules.LocalFileModule` and `org.embulk.util.config.units.LocalFile` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `Charset` in `PluginTask` | Use `org.embulk.util.config.modules.CharsetModule` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `Column` in `PluginTask` | Use `org.embulk.util.config.modules.ColumnModule` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `Schema` in `PluginTask` | Use `org.embulk.util.config.modules.SchemaModule` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |
| `Type` in `PluginTask` | Use `org.embulk.util.config.modules.TypeModule` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) |

##### Handling date/time and time zones

| Old | New |
|---|---|
| `org.joda.time.DateTime` | `java.time.OffsetDateTime` or `java.time.ZonedDateTime` |
| `org.joda.time.DateTimeZone` | `java.time.ZoneOffset` or `java.time.ZoneId` |
| `org.joda.time.DateTimeZone` in `PluginTask` | `java.time.ZoneId` with `org.embulk.util.config.modules.ZoneIdModule` in [embulk-util-config](https://dev.embulk.org/embulk-util-config/) if needed |
| `Timestamp` | `java.time.Instant` as far as possible |
| `TimestampFormatter` | `org.embulk.util.timestamp.TimestampFormatter` in [embulk-util-timestamp](https://dev.embulk.org/embulk-util-timestamp/) |
| `TimestampParser` | `org.embulk.util.timestamp.TimestampFormatter` in [embulk-util-timestamp](https://dev.embulk.org/embulk-util-timestamp/) |

##### Using Jackson and JSON

| Old | New |
|---|---|
| `org.embulk.spi.json.*` | `org.embulk.util.json.*` in [embulk-util-json](https://dev.embulk.org/embulk-util-json/) |

##### Using Google Guava and/or Apache Commons Lang 3

| Old | New |
|---|---|
| Guava `Optional` | `java.util.Optional` |
| Guava `Throwables` | Read [Guava's document](https://github.com/google/guava/wiki/Why-we-deprecated-Throwables.propagate) |

##### Using JRuby (`org.jruby` classes)

| Old | New |
|---|---|
| `org.jruby.*` | Stop using it -- [embulk-util-rubytime](https://dev.embulk.org/embulk-util-rubytime/) may work for parsing date-time  |

##### Using FindBugs

| Old | New |
|---|---|
| `@SuppressFBWarnings` | Remove it now |

##### Prepare for Java 11+

| Old | New |
|---|---|
| `javax.*` | See [JEP 320](https://openjdk.java.net/jeps/320), and check if it's removed in Java 11+ ([Issue](https://github.com/embulk/embulk/issues/1270)) |

##### Log

| Old | New |
|---|---|
| `Exec.getLogger` | `org.slf4j.LoggerFactory.getLogger` |

##### Other utility classes in `org.embulk:embulk-core`

| Old | New |
|---|---|
| `org.embulk.spi.util.*` | [embulk-util-file](https://dev.embulk.org/embulk-util-file/), [embulk-util-text](https://dev.embulk.org/embulk-util-text/), [embulk-util-dynamic](https://dev.embulk.org/embulk-util-dynamic/), or [embulk-util-retryhelper](https://dev.embulk.org/embulk-util-retryhelper/) |

#### Tests

Tests still need to depend on `org.embulk:embulk-core`, and in addition, `org.embulk:embulk-deps`.

```
testCompile "org.embulk:embulk-core:0.10.??"
testCompile "org.embulk:embulk-deps:0.10.??"
```

You may want to use some internal (`embulk-core`-only) classes in tests. Typical instances can be retrieved from `org.embulk.spi.ExecInternal`, such as `ExecInternal.getModelManager()` to get `org.embulk.config.ModelManager`.

Note that such internal classes may easily drop its compatibility. For example, `ModelManager` has already dropped `public <T> T readObject(Class<T>, com.fasterxml.jackson.core.JsonParser)` and `public <T> T readObjectWithConfigSerDe(Class<T>, com.fasterxml.jackson.core.JsonParser)`.

The testing framework would be improved through v0.11.
